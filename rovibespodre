-- MADE BY FLICKZ

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TeleportService = game:GetService("TeleportService")

local plr = Players.LocalPlayer

-- ESPERA O CHAR CORRETAMENTE (FIX DO BUG)
local function getChar()
	if plr.Character then return plr.Character end
	return plr.CharacterAdded:Wait()
end

local char = getChar()

-- REINJETAR APÓS TROCAR DE SERVER (5s) - LINK NOVO
if queue_on_teleport then
	queue_on_teleport([[
		wait(5)
		loadstring(game:HttpGet("https://raw.githubusercontent.com/flickzzzzzzzzz/rovibeslixo/main/rovibespodre"))()
	]])
end

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "CreditGui"
gui.ResetOnSpawn = false
gui.Parent = plr:WaitForChild("PlayerGui")

local txt = Instance.new("TextLabel")
txt.Parent = gui
txt.Size = UDim2.new(0,260,0,40)
txt.Position = UDim2.new(0,10,0,10)
txt.BackgroundTransparency = 0.3
txt.BackgroundColor3 = Color3.fromRGB(0,0,0)
txt.TextColor3 = Color3.fromRGB(255,255,255)
txt.TextScaled = true
txt.Font = Enum.Font.GothamBold
txt.Text = "MADE BY FLICKZ"

-- NOCLIP
local noclipConn
noclipConn = RunService.Stepped:Connect(function()
	for _,v in pairs(char:GetDescendants()) do
		if v:IsA("BasePart") then
			v.CanCollide = false
		end
	end
end)

-- PROCURA LIGHTTEMPLATE
local function getLights()
	local t = {}
	for _,o in pairs(workspace:GetDescendants()) do
		if o.Name == "LightTemplate" and o:IsA("Model") then
			table.insert(t, o)
		end
	end
	return t
end

-- LOOP PRINCIPAL
while true do
	char = getChar() -- garante char válido após reinjetar
	local lights = getLights()

	if #lights == 0 then
		if noclipConn then noclipConn:Disconnect() end
		task.wait(1)
		TeleportService:Teleport(game.PlaceId, plr)
		break
	end

	for _,light in ipairs(lights) do
		char:PivotTo(light:GetPivot() + Vector3.new(0,3,0))
		task.wait(0.5) -- DELAY ENTRE TPs
	end
end
